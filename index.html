<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->

    <!-- script by saepulhidayat 13/04/2021 -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <link rel="preconnect" href="https://fonts.gstatic.com">
	<!-- <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet"> -->
	<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">

    <title>Data Kelas 2 Reguler B</title>

    <style>
    	body{
    		/*background: url('images/bg.jpg');*/
    		background-color: #ddd;
    	}

    	h1{
    		font-family: 'Dancing Script', cursive;
    	}

    	.kotak img {
		  -webkit-transition: 0.4s ease;
		  transition: 0.4s ease;
		  /*width: 200px;
		  height: 200px;*/
		}

		.zoom-effect:hover .kotak img {
		  -webkit-transform: scale(1.08);
		  transform: scale(1.08);
		}

		@media screen and (min-width: 992px) {
		  .kotak img {
			  -webkit-transition: 0.4s ease;
			  transition: 0.4s ease;
			  /*width: 200px;*/
			  height: 200px;
			}
			
			iframe{
				width: 560px;
				height: 315px;
			}
		}

		@media screen and (max-width: 600px) {
		  .kotak img {
			  -webkit-transition: 0.4s ease;
			  transition: 0.4s ease;
			  width: 100%;
			  height: 400px;
			}
			
			iframe{
				width: 360px;
				height: 315px;
			}
		}


		/* responsive */

		/*https://www.w3schools.com/css/css3_mediaqueries_ex.asp*/


    </style>
  </head>
  <body>
    <div class="container">
    	<div class="row justify-content-center mt-3 mb-3">
    		<div class="col-md-7 text-center text-danger bg-info border border-danger">
    			<h1>List Video B Inggris 2 Reguler B</h1>
    		</div>
    	</div>
    	<div class="row mb-3" id="isiData">
    		<!-- Ini Nanti Di Isi Dengan Data Json -->
    	</div>

    	<div class="row justify-content-center mb-3">
    		<div class="col-md-12 bg-danger text-white fw-bold text-center pt-3">
    			<p>Credit By SaepulHidayat | PROFA ( Programmer Fasilkom )</p>
    		</div>
    	</div>
    </div>

    <!-- Modal -->
	<div class="modal fade" id="embedModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
	  <div class="modal-dialog modal-lg">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="staticBackdropLabel">Emebed Yotube</h5>
	        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
	      </div>
	      <div class="modal-body">
	      	<h3 id="namaModal">Isi Kosong</h3>
	      	<div class="text-center">
	      		<iframe id="linkModal"  title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
	      	</div>
	      	
	      </div>
	      <div class="modal-footer">
	        <p class="text-center">Credit By Saepul Hidayat | Free Donasi</p>
	      </div>
	    </div>
	  </div>
	</div>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

    <script>
    	var myModal = new bootstrap.Modal(document.getElementById('embedModal'), {
		  keyboard: false
		})


		var isiData = document.getElementById('isiData')


		// Set up our HTTP request
		var xhr = new XMLHttpRequest();

		xhr.responseType = 'json';
		// buat ubah ke result json

		// Setup our listener to process completed requests
		xhr.onload = function () {

			// Process our return data
			if (xhr.status >= 200 && xhr.status < 300) {
				// What do when the request is successful

				// console.log('success!', xhr.response);

				var countArray = xhr.response.length - 1;

				var hasil = "";

				for (var i = 0; i < countArray + 1; i++) {
					var gambar = xhr.response[i]['image'];

					var cek = ImageExist("images/" + gambar);

					// console.log(cek);


					if ( cek != 0) {
						gambar = gambar;
						// jika ada
					}else{
						gambar = "logo.png";
						// jika tidak ada
					}

					// width="200px" height="200px"

					hasil += `
					<div class="col-md-3 mb-2">
		    			<div class="card shadow ">
							<div class="zoom-effect">
				                <div class="kotak">
				                	<img  src="images/` + gambar + `" class="card-img-top" onclick="showModal('` + xhr.response[i]['link_yt'] + `', '` + xhr.response[i]['nama'] + `', '` + xhr.response[i]['npm'] + `')"  alt="` + xhr.response[i]['nama'] + `">
				                </div>
				            </div>

				            <div class="card-body">
							    <h5 class="card-title">` + xhr.response[i]['nama'] + `</h5>
							    <p class="card-text">
							    	NPM : ` + xhr.response[i]['npm'] + `
							    </p>
							    <a href="` + xhr.response[i]['link_yt'] + `" target="blank" class="btn btn-primary">Link Youtube</a>
							</div>
				        </div>
				    </div>
					`;
				}

				// nanti semua yang ada di isi hasil di tambahkan ke id isiData
				isiData.innerHTML = hasil;

				// alert(xhr.response);

			} else {
				// What do when the request fails
				console.log('The request failed!');
			}

			// Code that should run regardless of the request status
			// console.log('This always runs...');
		};

		// Create and send a GET request
		// The first argument is the post type (GET, POST, PUT, DELETE, etc.)
		// The second argument is the endpoint URL
		// https://jsonplaceholder.typicode.com/posts
		xhr.open('GET', '2rb.json');
		xhr.send();


		function ImageExist(url) 
		{
			// cek gambar apa ada atau engga
			// https://stackoverflow.com/questions/3646914/how-do-i-check-if-file-exists-in-jquery-or-pure-javascript
			var img = new Image();
			img.src = url;
			return img.height != 0;
		}


		var data = ImageExist("images/D1A200028.png");

		// console.log(data);

		// cek type data
		// https://programmingwithmosh.com/javascript/checking-data-types-in-javascript/#:~:text=In%20JavaScript%2C%20different%20data%20types,with%20the%20strict%20equality%20operator.
		if (typeof data === 'string') {
			// console.log("text");
		}
		if (typeof data === 'boolean') {
			// console.log("boolean");
		}

		

    	function showModal(link, nama, npm){

    		var idYt = link.split('.be/')[1];

    		var linkModal = document.getElementById("linkModal");
    		var namaModal = document.getElementById("namaModal");

    		namaModal.innerHTML = nama + '-' + npm;

    		linkModal.setAttribute('src', 'https://www.youtube.com/embed/' + idYt);
    		myModal.show();
    	}
    </script>


    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
    -->
  </body>
</html>
